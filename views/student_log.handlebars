<style>
  .bootstrap-iso .formden_header h2, .bootstrap-iso .formden_header p, .bootstrap-iso form {
    font-family: Arial, Helvetica, sans-serif;
    color: black
  }

  .bootstrap-iso form button, .bootstrap-iso form button:hover {
    color: white !important;
  }

  .container-fluid {
    margin-left: 25pt;
    margin-top: 10pt;
    width: inherit;
  }

</style>

<script type="text/javascript">
  $(document).ready(function() {
    $('#log').on('submit', function(e) {
      e.preventDefault();
      $.ajax({
        type: 'post',
        url: 'student_log',
        data: $(this).serialize(),
        success: function(data) {
          if (data.success) {
            showResult(data);
          }else{
            console.log(' There was a problem. student_log');
          }
        },
        error: function() {
           console.log("error");
         }
      });
    });



    function showResult(result) {
      $("#entry").hide();
      $("#result_display").empty();
      $("#result_display").show();
      if (result) {
        var table_body = '<table border="1" id="tble"><thead><tr><th>ID</th><th>FirstName</th><th>LastName</th><th>Date</th><th>TimeIn</th><th>TimeOut</th><th>Duration</th><th>Subject</th><th>Location</th><th>Tutor</th></tr></thead><tbody>';
        for (item in result) {
          table_body += '<tr>';
          table_body += '<td>';
          table_body +=  result.success["student_id"];
          table_body += '</td>';

          table_body += '<td>';
          table_body +=  result.success["first_name"];
          table_body += '</td>';

          table_body += '<td>';
          table_body +=  result.success["last_name"];
          table_body += '</td>';

          table_body += '<td>';
          table_body +=  result.success["date"];
          table_body += '</td>';

          table_body += '<td>';
          table_body +=  result.success["time_in"];
          table_body += '</td>';

          table_body += '<td>';
          table_body +=  result.success["time_out"];
          table_body += '</td>';

          table_body += '<td>';
          table_body +=  result.success["duration"];
          table_body += '</td>';

          table_body += '<td>';
          table_body +=  result.success["subject"];
          table_body += '</td>';

          table_body += '<td>';
          table_body +=  result.success["location"];
          table_body += '</td>';

          table_body += '<td>';
          table_body +=  result.success["tutor"];
          table_body += '</td>';
        }
        table_body += '</tbody></table>';
        var button = $("<button>");
        $(document.body).append(button);
        button.append("Go Back");
        button.addClass("btn btn-secondary");
        button.css({top: 80, left: 50, position:'absolute'});
        $('#result_display').css({top: 120, left: 50, position:'absolute'});
        $('#result_display').html(table_body);
        pageToggle(button);
      }

    }

    function pageToggle(btn) {
      btn.click(function() {
        $("#result_display").hide();
        $(this).hide();
        $("#entry").show();
      });
    }
  });



</script>
<div id="result_display" style="clear:both;width:100%; "></div>

<div class="bootstrap-iso">
 <div class="container-fluid" id="entry">
    <h3>Session Logs.</h3>
  <div class="row">
   <div class="col-md-6 col-sm-6 col-xs-12">
    <form action="log"  method="POST" id="log">
     <div class="form-group ">
      <label class="control-label " for="first_name">First Name</label>
      <input class="form-control" id="first_name" name="first_name" placeholder="First Name" type="text"/>
     </div>
     <div class="form-group ">
      <label class="control-label " for="last_name">Last Name</label>
      <input class="form-control" id="last_name" name="last_name" placeholder="Last Name" type="text"/>
     </div>
     <div class="form-group ">
      <label class="control-label " for="subject">Subject</label>
      <input class="form-control" id="subject" name="subject" placeholder="Subject" type="text"/>
     </div>
     <div class="form-group ">
      <label class="control-label " for="date">Date</label>
      <input class="form-control" id="date" name="date" placeholder="MM/DD/YYYY" type="text"/>
     </div>
     <div class="form-group ">
      <label class="control-label " for="location">Location</label>
      <input class="form-control" id="location" name="location" placeholder="Location" type="text"/>
     </div>
     <div class="form-group ">
      <label class="control-label " for="tutor">Tutor</label>
      <input class="form-control" id="tutor" name="tutor" placeholder="Tutor" type="text"/>
     </div>
     <div class="form-group">
      <div>
       <button class="btn btn-primary " name="submit" type="submit">Submit</button>
      </div>
     </div>
    </form>
   </div>
  </div>
 </div>
</div>
